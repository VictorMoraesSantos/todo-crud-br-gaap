<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    controllerName="todo.controller.TaskList">

    <App id="app">
        <Page title="Todo List">
            <SearchField
                width="100%"
                placeholder="Search todos..."
                liveChange="onSearch" />

            <List
                id="taskList"
                items="{tasks>/tasks}"
                busy="{tasks>/busy}"
                busyIndicatorDelay="0">
                <items>
                    <CustomListItem>
                        <HBox class="customListItemHBox" justifyContent="SpaceBetween" alignItems="Center" width="100%">
                                <HBox class="taskMain" fitContainer="true" alignItems="Center" width="100%">
                                    <layoutData>
                                        <FlexItemData growFactor="1" shrinkFactor="1" />
                                    </layoutData>
                                    <CheckBox selected="{tasks>completed}" select="onToggleCompleted" />
                                    <Text text="{tasks>title}" wrapping="true" class="taskTitle {= ${tasks>completed} ? 'taskCompleted' : '' }" />
                                </HBox>
                                <HBox class="taskActions">
                                    <layoutData>
                                        <FlexItemData growFactor="0" shrinkFactor="0" />
                                    </layoutData>
                                    <Text text="{= 'User: ' + ${tasks>userId}}" />
                                    <Button text="Details" press="onDetails" />
                                </HBox>
                            </HBox>
                    </CustomListItem>
                </items>
            </List>

            <Toolbar>
                <Button text="Sync" press="onSync" />
            </Toolbar>

            <Toolbar design="Transparent" id="paginationToolbar" class="sapUiSmallMarginTop">
                <Button icon="sap-icon://navigation-left-arrow" press="onPrevPage" />
                <Text text="{= ${tasks>/tasks}.length + ' items — Página ' + ${tasks>/page} }" />
                <Button icon="sap-icon://navigation-right-arrow" press="onNextPage" />
            </Toolbar>
        </Page>
    </App>

</mvc:View>